<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="preload" href="/component---src-layouts-index-jsx-b6d46c28bc8090e6a697.js" as="script"/><link rel="preload" href="/component---src-templates-lesson-jsx-1a8b44204d8f2b24e204.js" as="script"/><link rel="preload" href="/path---docs-aggregates-2fa3a0073f8bbc54ad3e.js" as="script"/><link rel="preload" href="/app-1d17f54e3da8a1afc42e.js" as="script"/><link rel="preload" href="/commons-f55693143a323e5c12d5.js" as="script"/><style type="text/css" data-styled-components="kJBJFg bWiApe jqJWKh hgyrHF darSLR cqvSHs cYxMCk fgNREj klVCml dCbOEe hEeKFD" data-styled-components-is-local="true">/* sc-component-id: sc-bdVaJa */

.hgyrHF{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;background:#2C3E50;margin:inherit;}.hgyrHF .nav-link{font-size:1.6rem;margin-right:10px;font-weight:200;color:#ECF0F1;}.hgyrHF .nav-link:hover{border-color:#ECF0F1;}
/* sc-component-id: sc-bwzfXH */

.cYxMCk{position:relative;}.cYxMCk input{display:absolute;font-size:1.6rem;background:#2b303b;color:#2C3E50;background:#fff9f9;border-color:#2C3E50;border-width:1pt;border-style:solid;-webkit-border-radius:5px;-moz-border-radius:5px;padding-top:2.5pt;padding-bottom:2.5pt;margin-right:10px;margin-top:0px;z-index:1;text-indent:20pt;}.cYxMCk .icon{height:15pt;width:15pt;padding:2.5pt;left:5pt;right:5pt;top:50%;-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%);position:absolute;color:#4f5b66;z-index:20000;}
/* sc-component-id: sc-htpNat */

.darSLR{border-radius:50%;-webkit-animation-delay:350ms;animation-delay:350ms;}.darSLR span{font-size:2em;}.darSLR button{background:none;border:none;color:#ECF0F1;}.darSLR button:active{background:#FFF0F;}.darSLR button{left:0.25em;bottom:0.25em;padding:0;width:2.5em;height:2.5em;}.darSLR .main{color:#2C3E50;}@media (min-width:1275px){.darSLR{display:none;}}
/* sc-component-id: sc-bxivhb */

.cqvSHs{-webkit-animation-delay:350ms;animation-delay:350ms;font-size:2em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}@media (max-width:1275px){.cqvSHs{display:none;width:100%;padding-top:12px;text-align:left;}.cqvSHs .language-divider{display:none;}.cqvSHs .language-link-js:after{content:' JAVASCRIPT DOCS';}.cqvSHs .language-link-reason:after{content:' REASON DOCS';}}
/* sc-component-id: sc-gzVnrw */

.jqJWKh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background:#2C3E50;color:#ECF0F1;height:100%;padding:25px;}
/* sc-component-id: sc-dnqmqq */

.dCbOEe{padding:25px;}.dCbOEe > ul,.dCbOEe .chapterItems{list-style:none;padding:0;margin:0;}.dCbOEe p,.dCbOEe h6{display:inline-block;font-weight:200;margin:0;}.dCbOEe .tocHeading{font-weight:200;color:#2C3E50;margin-bottom:10px;}
/* sc-component-id: sc-iwsKbI */

.hEeKFD h6,.hEeKFD p{color:black;margin:0;line-height:1.5;}.hEeKFD li{margin:0;}.hEeKFD:hover li span{border-bottom:1px solid black;}
/* sc-component-id: sc-gZMcBi */

.kJBJFg{width:100vw;display:grid;grid-template-areas: "header" "content" "nav";}@media (min-width:1275px){.kJBJFg{height:100vh;grid-template-columns:300px 1fr;grid-template-rows:75px 1fr;grid-template-areas: "header  header"  "nav content";}.kJBJFg #nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}}
/* sc-component-id: sc-gqjmRU */

.fgNREj{grid-area:content;justify-self:center;width:100%;padding:25px;padding-bottom:0;padding-top:0;}.fgNREj > article{max-width:850px;margin:auto;}.fgNREj > h1{color:#2980B9;}@media (max-width:1275px){.fgNREj{max-width:95vw;}}@media (min-width:1275px){.fgNREj{overflow:scroll;padding-bottom:25px;}}
/* sc-component-id: sc-VigVT */

.bWiApe{grid-area:header;width:100%;z-index:2;}
/* sc-component-id: sc-jTzLTM */

.klVCml{grid-area:nav;}.klVCml padding-top:0 @media (min-width:1275px){overflow:scroll;padding-top:25px;}
</style><title data-react-helmet="true">Aggregates | Akkatecture</title><meta data-react-helmet="true" name="description" content="Initially, before you can create an aggregate, you need to create its corresponding 
identity and state. You can create your own model of…"/><meta data-react-helmet="true" name="image" content="https://akkatecture.net/logos/logo-300.png"/><meta data-react-helmet="true" property="og:url" content="https://akkatecture.net//aggregates"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Aggregates"/><meta data-react-helmet="true" property="og:description" content="Initially, before you can create an aggregate, you need to create its corresponding 
identity and state. You can create your own model of…"/><meta data-react-helmet="true" property="og:image" content="https://akkatecture.net/logos/logo-300.png"/><meta data-react-helmet="true" property="og:image:width" content="300"/><meta data-react-helmet="true" property="og:image:height" content="300"/><meta data-react-helmet="true" property="og:image:type" content="image/png"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="LutandoNgqakaza"/><meta data-react-helmet="true" name="twitter:title" content="Aggregates"/><meta data-react-helmet="true" name="twitter:description" content="Initially, before you can create an aggregate, you need to create its corresponding 
identity and state. You can create your own model of…"/><meta data-react-helmet="true" name="twitter:image" content="https://akkatecture.net/logos/logo-300.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://akkatecture.net/","name":"Aggregates","alternateName":"Akkatecture distributed cqrs and event sourcing for dotnet core"},[{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://akkatecture.net//aggregates","name":"Aggregates","image":"https://akkatecture.net/logos/logo-300.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://akkatecture.net/","name":"Aggregates","alternateName":"Akkatecture distributed cqrs and event sourcing for dotnet core","headline":"Aggregates","image":{"@type":"ImageObject","url":"https://akkatecture.net/logos/logo-300.png"},"description":"Initially, before you can create an aggregate, you need to create its corresponding \nidentity and state. You can create your own model of…"}]]</script><link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,+400i,+700,+700i|Space+Mono:400,700" rel="stylesheet"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#2C3E50"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" type="image/png" href="https://raw.githubusercontent.com/Akkatecture/Documentation/master/src/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><style id="gatsby-inlined-css">@import url(https://fonts.googleapis.com/css?family=Nunito+Sans);@font-face{font-family:League Spartan;src:url("/fonts/league-spartan/leaguespartan-bold.eot");src:url("/fonts/league-spartan/leaguespartan-bold.eot?#iefix") format("embedded-opentype"),url("/fonts/league-spartan/leaguespartan-bold.woff2") format("woff2"),url("/fonts/league-spartan/leaguespartan-bold.woff") format("woff"),url("/fonts/league-spartan/leaguespartan-bold.ttf") format("truetype"),url("/fonts/league-spartan/leaguespartan-bold.svg#league_spartanbold") format("svg");font-weight:700;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Light.eot");src:url("/fonts/firacode/eot/FiraCode-Light.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Light.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Light.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Light.ttf") format("truetype");font-weight:300;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Regular.eot");src:url("/fonts/firacode/eot/FiraCode-Regular.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Regular.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Regular.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Regular.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Medium.eot");src:url("/fonts/firacode/eot/FiraCode-Medium.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Medium.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Medium.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Medium.ttf") format("truetype");font-weight:500;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Bold.eot");src:url("/fonts/firacode/eot/FiraCode-Bold.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Bold.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Bold.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Bold.ttf") format("truetype");font-weight:700;font-style:normal}.algolia-autocomplete{z-index:10000}*{box-sizing:border-box;margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.remix-button:hover{text-decoration:none;border-bottom:none}.remix-button:hover>*{text-decoration:underline}.remix-button button{border:2px solid #2980b9;color:#2980b9;background:transparent;border-radius:5px;padding:10px;cursor:pointer;height:4em;width:8em;font-size:10pt}.remix-button button img{height:1em}body{background:#ecf0f1}table{border-collapse:collapse}table,td,th{border:1px solid #000;padding:5px}blockquote{border-left:.3em dotted;padding-left:1em;font-style:italic;line-height:2}p{line-height:1.5}html{font-size:10px}h1,h2,h3,h4,h5{font-family:Futura,League Spartan,sans-serif}a,body,h6 li,p,ul{font-family:Avenir,Nunito Sans,Helvetica Neue,sans-serif}dl,h1,h2,h3,h4,h5,h6,ol,p,ul{margin:30px 0}dd,dt,li,li>*{margin:10px 0}a{color:#241875;text-decoration:none}a:visited{color:#2980b9}a:hover:visited{border-bottom:2px dotted #2980b9}a:hover{border-bottom:2px dotted #241875}h1{font-size:3.4rem}h2{font-size:3rem}h3{font-size:2.4rem}h4{font-size:2rem}h5,h6{font-size:1.6rem}a,dd,dt,li,p,th,tr{font-size:1.8rem}table,td,th{border:none}tr{border-bottom:1px solid #000}td:first-child{font-weight:700}tr:last-child{border-bottom:none}hr{border:none;background:#2980b9;height:.15em;width:100%}ul{list-style-type:"\21D2   ";list-style-image:none;list-style-position:inside}.label{color:#ecf0f1}.node circle,.node ellipse,.node polygon,.node rect{fill:#3498db!important;stroke:#3498db!important;stroke-width:1px!important}.node.clickable{cursor:pointer}.arrowheadPath{fill:#3498db!important}.edgePath .path{stroke:#3498db!important;stroke-width:1.5px!important}.edgeLabel{background-color:#ecf0f1!important;color:#2c3e50!important}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Light.eot");src:url("/fonts/firacode/eot/FiraCode-Light.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Light.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Light.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Light.ttf") format("truetype");font-weight:300;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Regular.eot");src:url("/fonts/firacode/eot/FiraCode-Regular.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Regular.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Regular.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Regular.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Medium.eot");src:url("/fonts/firacode/eot/FiraCode-Medium.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Medium.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Medium.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Medium.ttf") format("truetype");font-weight:500;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Bold.eot");src:url("/fonts/firacode/eot/FiraCode-Bold.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Bold.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Bold.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Bold.ttf") format("truetype");font-weight:700;font-style:normal}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Fira Code,monospace;font-feature-settings:"liga","clig";-ms-font-feature-settings:"liga","clig";-o-font-feature-settings:"liga","clig";-webkit-font-feature-settings:"liga","clig";font-feature-settings:"calt" 1,"calt";text-rendering:optimizeLegibility;-webkit-font-variant-ligatures:contextual!important;font-variant-ligatures:contextual!important;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.87;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:5px}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2c3e50}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;color:#000;background-color:#ecf0f1;font-weight:500}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#b5bec3}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#e74c3c}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#dc78dc}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#ecf0f1}.token.keyword{color:#00d0d0}.token.important,.token.regex{color:#ccdf32}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}/*!
 * animate.css -http://daneden.me/animate
 * Version - 3.6.0
 * Licensed under the MIT license - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2018 Daniel Eden
 */.animated{animation-duration:1s;animation-fill-mode:both}.animated.infinite{animation-iteration-count:infinite}@keyframes bounce{0%,20%,53%,80%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1);transform:translateZ(0)}40%,43%{animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-30px,0)}70%{animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}.bounce{animation-name:bounce;-ms-transform-origin:center bottom;transform-origin:center bottom}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.flash{animation-name:flash}@keyframes pulse{0%{transform:scaleX(1)}50%{transform:scale3d(1.05,1.05,1.05)}to{transform:scaleX(1)}}.pulse{animation-name:pulse}@keyframes rubberBand{0%{transform:scaleX(1)}30%{transform:scale3d(1.25,.75,1)}40%{transform:scale3d(.75,1.25,1)}50%{transform:scale3d(1.15,.85,1)}65%{transform:scale3d(.95,1.05,1)}75%{transform:scale3d(1.05,.95,1)}to{transform:scaleX(1)}}.rubberBand{animation-name:rubberBand}@keyframes shake{0%,to{transform:translateZ(0)}10%,30%,50%,70%,90%{transform:translate3d(-10px,0,0)}20%,40%,60%,80%{transform:translate3d(10px,0,0)}}.shake{animation-name:shake}@keyframes headShake{0%{transform:translateX(0)}6.5%{transform:translateX(-6px) rotateY(-9deg)}18.5%{transform:translateX(5px) rotateY(7deg)}31.5%{transform:translateX(-3px) rotateY(-5deg)}43.5%{transform:translateX(2px) rotateY(3deg)}50%{transform:translateX(0)}}.headShake{animation-timing-function:ease-in-out;animation-name:headShake}@keyframes swing{20%{transform:rotate(15deg)}40%{transform:rotate(-10deg)}60%{transform:rotate(5deg)}80%{transform:rotate(-5deg)}to{transform:rotate(0deg)}}.swing{-ms-transform-origin:top center;transform-origin:top center;animation-name:swing}@keyframes tada{0%{transform:scaleX(1)}10%,20%{transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{transform:scaleX(1)}}.tada{animation-name:tada}@keyframes wobble{0%{transform:translateZ(0)}15%{transform:translate3d(-25%,0,0) rotate(-5deg)}30%{transform:translate3d(20%,0,0) rotate(3deg)}45%{transform:translate3d(-15%,0,0) rotate(-3deg)}60%{transform:translate3d(10%,0,0) rotate(2deg)}75%{transform:translate3d(-5%,0,0) rotate(-1deg)}to{transform:translateZ(0)}}.wobble{animation-name:wobble}@keyframes jello{0%,11.1%,to{transform:translateZ(0)}22.2%{transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{transform:skewX(6.25deg) skewY(6.25deg)}44.4%{transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{transform:skewX(.390625deg) skewY(.390625deg)}88.8%{transform:skewX(-.1953125deg) skewY(-.1953125deg)}}.jello{animation-name:jello;-ms-transform-origin:center;transform-origin:center}@keyframes bounceIn{0%,20%,40%,60%,80%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:scale3d(.3,.3,.3)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(.9,.9,.9)}60%{opacity:1;transform:scale3d(1.03,1.03,1.03)}80%{transform:scale3d(.97,.97,.97)}to{opacity:1;transform:scaleX(1)}}.bounceIn{animation-duration:.75s;animation-name:bounceIn}@keyframes bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:translateZ(0)}}.bounceInDown{animation-name:bounceInDown}@keyframes bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:translateZ(0)}}.bounceInLeft{animation-name:bounceInLeft}@keyframes bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:translateZ(0)}}.bounceInRight{animation-name:bounceInRight}@keyframes bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}.bounceInUp{animation-name:bounceInUp}@keyframes bounceOut{20%{transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;transform:scale3d(1.1,1.1,1.1)}to{opacity:0;transform:scale3d(.3,.3,.3)}}.bounceOut{animation-duration:.75s;animation-name:bounceOut}@keyframes bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.bounceOutDown{animation-name:bounceOutDown}@keyframes bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}.bounceOutLeft{animation-name:bounceOutLeft}@keyframes bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}.bounceOutRight{animation-name:bounceOutRight}@keyframes bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}.bounceOutUp{animation-name:bounceOutUp}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{animation-name:fadeIn}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:translateZ(0)}}.fadeInDown{animation-name:fadeInDown}@keyframes fadeInDownBig{0%{opacity:0;transform:translate3d(0,-2000px,0)}to{opacity:1;transform:translateZ(0)}}.fadeInDownBig{animation-name:fadeInDownBig}@keyframes fadeInLeft{0%{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:translateZ(0)}}.fadeInLeft{animation-name:fadeInLeft}@keyframes fadeInLeftBig{0%{opacity:0;transform:translate3d(-2000px,0,0)}to{opacity:1;transform:translateZ(0)}}.fadeInLeftBig{animation-name:fadeInLeftBig}@keyframes fadeInRight{0%{opacity:0;transform:translate3d(100%,0,0)}to{opacity:1;transform:translateZ(0)}}.fadeInRight{animation-name:fadeInRight}@keyframes fadeInRightBig{0%{opacity:0;transform:translate3d(2000px,0,0)}to{opacity:1;transform:translateZ(0)}}.fadeInRightBig{animation-name:fadeInRightBig}@keyframes fadeInUp{0%{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translateZ(0)}}.fadeInUp{animation-name:fadeInUp}@keyframes fadeInUpBig{0%{opacity:0;transform:translate3d(0,2000px,0)}to{opacity:1;transform:translateZ(0)}}.fadeInUpBig{animation-name:fadeInUpBig}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{animation-name:fadeOut}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}.fadeOutDown{animation-name:fadeOutDown}@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;transform:translate3d(0,2000px,0)}}.fadeOutDownBig{animation-name:fadeOutDownBig}@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0)}}.fadeOutLeft{animation-name:fadeOutLeft}@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;transform:translate3d(-2000px,0,0)}}.fadeOutLeftBig{animation-name:fadeOutLeftBig}@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;transform:translate3d(100%,0,0)}}.fadeOutRight{animation-name:fadeOutRight}@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;transform:translate3d(2000px,0,0)}}.fadeOutRightBig{animation-name:fadeOutRightBig}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.fadeOutUp{animation-name:fadeOutUp}@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;transform:translate3d(0,-2000px,0)}}.fadeOutUpBig{animation-name:fadeOutUpBig}@keyframes flip{0%{transform:perspective(400px) rotateY(-1turn);animation-timing-function:ease-out}40%{transform:perspective(400px) translateZ(150px) rotateY(-190deg);animation-timing-function:ease-out}50%{transform:perspective(400px) translateZ(150px) rotateY(-170deg);animation-timing-function:ease-in}80%{transform:perspective(400px) scale3d(.95,.95,.95);animation-timing-function:ease-in}to{transform:perspective(400px);animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;animation-name:flip}@keyframes flipInX{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;animation-name:flipInX}@keyframes flipInY{0%{transform:perspective(400px) rotateY(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateY(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateY(10deg);opacity:1}80%{transform:perspective(400px) rotateY(-5deg)}to{transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;animation-name:flipInY}@keyframes flipOutX{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.flipOutX{animation-duration:.75s;animation-name:flipOutX;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}@keyframes flipOutY{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateY(-15deg);opacity:1}to{transform:perspective(400px) rotateY(90deg);opacity:0}}.flipOutY{animation-duration:.75s;-webkit-backface-visibility:visible!important;backface-visibility:visible!important;animation-name:flipOutY}@keyframes lightSpeedIn{0%{transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{transform:skewX(20deg);opacity:1}80%{transform:skewX(-5deg);opacity:1}to{transform:translateZ(0);opacity:1}}.lightSpeedIn{animation-name:lightSpeedIn;animation-timing-function:ease-out}@keyframes lightSpeedOut{0%{opacity:1}to{transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}.lightSpeedOut{animation-name:lightSpeedOut;animation-timing-function:ease-in}@keyframes rotateIn{0%{transform-origin:center;transform:rotate(-200deg);opacity:0}to{transform-origin:center;transform:translateZ(0);opacity:1}}.rotateIn{animation-name:rotateIn}@keyframes rotateInDownLeft{0%{transform-origin:left bottom;transform:rotate(-45deg);opacity:0}to{transform-origin:left bottom;transform:translateZ(0);opacity:1}}.rotateInDownLeft{animation-name:rotateInDownLeft}@keyframes rotateInDownRight{0%{transform-origin:right bottom;transform:rotate(45deg);opacity:0}to{transform-origin:right bottom;transform:translateZ(0);opacity:1}}.rotateInDownRight{animation-name:rotateInDownRight}@keyframes rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(45deg);opacity:0}to{transform-origin:left bottom;transform:translateZ(0);opacity:1}}.rotateInUpLeft{animation-name:rotateInUpLeft}@keyframes rotateInUpRight{0%{transform-origin:right bottom;transform:rotate(-90deg);opacity:0}to{transform-origin:right bottom;transform:translateZ(0);opacity:1}}.rotateInUpRight{animation-name:rotateInUpRight}@keyframes rotateOut{0%{transform-origin:center;opacity:1}to{transform-origin:center;transform:rotate(200deg);opacity:0}}.rotateOut{animation-name:rotateOut}@keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate(45deg);opacity:0}}.rotateOutDownLeft{animation-name:rotateOutDownLeft}@keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}to{transform-origin:right bottom;transform:rotate(-45deg);opacity:0}}.rotateOutDownRight{animation-name:rotateOutDownRight}@keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate(-45deg);opacity:0}}.rotateOutUpLeft{animation-name:rotateOutUpLeft}@keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}to{transform-origin:right bottom;transform:rotate(90deg);opacity:0}}.rotateOutUpRight{animation-name:rotateOutUpRight}@keyframes hinge{0%{transform-origin:top left;animation-timing-function:ease-in-out}20%,60%{transform:rotate(80deg);transform-origin:top left;animation-timing-function:ease-in-out}40%,80%{transform:rotate(60deg);transform-origin:top left;animation-timing-function:ease-in-out;opacity:1}to{transform:translate3d(0,700px,0);opacity:0}}.hinge{animation-duration:2s;animation-name:hinge}@keyframes jackInTheBox{0%{opacity:0;transform:scale(.1) rotate(30deg);transform-origin:center bottom}50%{transform:rotate(-10deg)}70%{transform:rotate(3deg)}to{opacity:1;transform:scale(1)}}.jackInTheBox{animation-name:jackInTheBox}@keyframes rollIn{0%{opacity:0;transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;transform:translateZ(0)}}.rollIn{animation-name:rollIn}@keyframes rollOut{0%{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) rotate(120deg)}}.rollOut{animation-name:rollOut}@keyframes zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{animation-name:zoomIn}@keyframes zoomInDown{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInDown{animation-name:zoomInDown}@keyframes zoomInLeft{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(10px,0,0);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInLeft{animation-name:zoomInLeft}@keyframes zoomInRight{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInRight{animation-name:zoomInRight}@keyframes zoomInUp{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInUp{animation-name:zoomInUp}@keyframes zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.zoomOut{animation-name:zoomOut}@keyframes zoomOutDown{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutDown{animation-name:zoomOutDown}@keyframes zoomOutLeft{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;transform:scale(.1) translate3d(-2000px,0,0);transform-origin:left center}}.zoomOutLeft{animation-name:zoomOutLeft}@keyframes zoomOutRight{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;transform:scale(.1) translate3d(2000px,0,0);transform-origin:right center}}.zoomOutRight{animation-name:zoomOutRight}@keyframes zoomOutUp{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutUp{animation-name:zoomOutUp}@keyframes slideInDown{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}.slideInDown{animation-name:slideInDown}@keyframes slideInLeft{0%{transform:translate3d(-100%,0,0);visibility:visible}to{transform:translateZ(0)}}.slideInLeft{animation-name:slideInLeft}@keyframes slideInRight{0%{transform:translate3d(100%,0,0);visibility:visible}to{transform:translateZ(0)}}.slideInRight{animation-name:slideInRight}@keyframes slideInUp{0%{transform:translate3d(0,100%,0);visibility:visible}to{transform:translateZ(0)}}.slideInUp{animation-name:slideInUp}@keyframes slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,100%,0)}}.slideOutDown{animation-name:slideOutDown}@keyframes slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-100%,0,0)}}.slideOutLeft{animation-name:slideOutLeft}@keyframes slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(100%,0,0)}}.slideOutRight{animation-name:slideOutRight}@keyframes slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-100%,0)}}.slideOutUp{animation-name:slideOutUp}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Light.eot");src:url("/fonts/firacode/eot/FiraCode-Light.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Light.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Light.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Light.ttf") format("truetype");font-weight:300;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Regular.eot");src:url("/fonts/firacode/eot/FiraCode-Regular.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Regular.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Regular.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Regular.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Medium.eot");src:url("/fonts/firacode/eot/FiraCode-Medium.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Medium.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Medium.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Medium.ttf") format("truetype");font-weight:500;font-style:normal}@font-face{font-family:Fira Code;src:url("/fonts/firacode/eot/FiraCode-Bold.eot");src:url("/fonts/firacode/eot/FiraCode-Bold.eot") format("embedded-opentype"),url("/fonts/firacode/woff2/FiraCode-Bold.woff2") format("woff2"),url("/fonts/firacode/woff/FiraCode-Bold.woff") format("woff"),url("/fonts/firacode/ttf/FiraCode-Bold.ttf") format("truetype");font-weight:700;font-style:normal}code[class*=language-],pre[class*=language-]{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;background:#2c3e50;color:#ecf0f1}code{font-family:Fira Code,monospace;text-rendering:optimizeLegibility;-webkit-font-feature-settings:"calt" 1,"calt";font-feature-settings:"calt" 1,"calt";font-variant-ligatures:contextual!important;-webkit-font-variant-ligatures:contextual!important}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b4b7b4}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b4b7b4}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#008731}.token.punctuation{color:#c5c8c6}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#3498db}.token.property{color:#f0c674}.token.tag{color:#81a2be}.token.string{color:#e74c3c}.token.selector{color:#b294bb}.token.attr-name{color:#de935f}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#e74c3c}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#3498db}.token.atrule,.token.regex,.token.statement{color:#e74c3c}.token.placeholder,.token.variable{color:#81a2be}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #fff;text-decoration:none}.token.italic{font-style:italic}.token.bold,.token.important{font-weight:700}.token.important{color:#c66}.token.entity{cursor:help}pre>code.highlight{outline:.4em solid #c66;outline-offset:.4em}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="76343764"><!-- react-empty: 2 --><div data-reactid="3"><!-- react-empty: 4 --><!-- react-empty: 5 --><div class="sc-gZMcBi kJBJFg" data-reactid="6"><div class="header sc-VigVT bWiApe" data-reactid="7"><div class="sc-gzVnrw jqJWKh" data-reactid="8"><div class="sc-bdVaJa hgyrHF" data-reactid="9"><section data-reactid="10"><a class="nav-link" href="/" data-reactid="11"><img style="height:1.5em;" alt="logo" src="/logos/branding-inverted-1.svg" data-reactid="12"/></a></section><section class="  sc-htpNat darSLR" data-reactid="13"><button class="subpage" data-reactid="14"><span data-reactid="15">☰</span></button></section><section class="  sc-bxivhb cqvSHs" data-reactid="16"><div class="sc-bwzfXH cYxMCk" data-reactid="17"><img src="/img/search.svg" class="icon" data-reactid="18"/><input type="search" placeholder="search docs" class="search-box" id="search-box" data-reactid="19"/></div><div data-reactid="20"><a class="nav-link" href="/docs/getting-started" data-reactid="21"> DOCS </a></div><div data-reactid="22"><a class="nav-link" href="/blog" data-reactid="23"> BLOG </a></div><div data-reactid="24"><a class="nav-link" href="/community" data-reactid="25"> COMMUNITY </a></div><div data-reactid="26"><a class="nav-link" target="_blank" href="https://github.com/Lutando/Akkatecture" data-reactid="27"> GITHUB </a></div></section></div></div></div><div class="content sc-gqjmRU fgNREj" data-reactid="28"><article data-reactid="29"><h1 data-reactid="30">Aggregates</h1><div data-reactid="31"><p>Initially, before you can create an aggregate, you need to create its corresponding
identity and state. You can create your own model of <code class="language-text">Identity</code> by implementing the
<code class="language-text">IIdentity</code> interface, or you can use base class <code class="language-text">Identity&lt;&gt;</code> that
Akkatecture provides, like this:</p>
<div class="gatsby-highlight">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StoreId</span> <span class="token punctuation">:</span> <span class="token class-name">Identity</span><span class="token operator">&lt;</span>StoreId<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">StoreId</span><span class="token punctuation">(</span><span class="token keyword">string</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>The <code class="language-text">Identity&lt;&gt;</code> value object provides generic functionality to create and validate aggregate root identities. Please read the documentation regarding the bundled <code class="language-text">Identity&lt;&gt;</code> type <a href="/docs/primitives#identities">here</a>, as it provides several useful features, e.g. several different schemes for identity generation, one that minimizes MSSQL database fragmentation.</p>
<p>Additionally, to create your aggregate state, which will be used for applying aggregate events to, you can create your own state model by inheriting from the base <code class="language-text">AggregateState&lt;,,&gt;</code> class like this:</p>
<div class="gatsby-highlight">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StoreState</span> <span class="token punctuation">:</span> <span class="token class-name">AggregateState</span><span class="token operator">&lt;</span>StoreAggregate<span class="token punctuation">,</span> StoreId<span class="token operator">></span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Next; to model your aggregate, simply inherit from <code class="language-text">AggregateRoot&lt;,,&gt;</code>, making sure to pass the aggregate's own type as the first generic argument, with the identity model as the second, and the state model as the third. Also be sure to pass down an instance of the aggregate identity to the base class, as this is required.</p>
<div class="gatsby-highlight">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StoreAggregate</span> <span class="token punctuation">:</span> <span class="token class-name">AggregateRoot</span><span class="token operator">&lt;</span>StoreAggregate<span class="token punctuation">,</span> StoreId<span class="token punctuation">,</span> StoreState<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">StoreAggregate</span><span class="token punctuation">(</span><span class="token class-name">StoreId</span> aggregateId<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>aggregateId<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h2 id="aggregate-managers"><a href="#aggregate-managers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Aggregate Managers</h2>
<p>Aggregates in Akkatecture exist as singletons in the actor system, and thus, by design, only one aggregate root instance can be created or used per <code class="language-text">aggregateId</code> at any given time. Akkatecture gives you the constructs to avoid this with the use of <code class="language-text">AggregateManager&lt;,,&gt;</code> which is essentially a message coordinater/dispatcher for the underlying aggregate.</p>
<p>For most use cases the default <code class="language-text">AggregateManager&lt;,,&gt;</code> will be sufficient, and as usual, all you need to do is to inherit from it.</p>
<div class="gatsby-highlight">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StoreAggregateManager</span> <span class="token punctuation">:</span> 
    <span class="token class-name">AggregateManager</span><span class="token operator">&lt;</span>StoreAggregate<span class="token punctuation">,</span> StoreId<span class="token punctuation">,</span> Command<span class="token operator">&lt;</span>StoreAggregate<span class="token punctuation">,</span> StoreId<span class="token operator">></span><span class="token operator">></span>
<span class="token punctuation">{</span>       
<span class="token punctuation">}</span></code></pre>
      </div>
<p>The aggregate manager works by resolving the addresses of aggregate roots and routes messages to them accordingly. It routes the messages by using the <code class="language-text">Command&lt;,,&gt;.AggregateId</code> member variable to locate or create the child aggregate roots. Since we are also in an actor system, the <code class="language-text">AggregateManager&lt;,,&gt;</code> is also responsible for supervising aggregate roots (which are also actors within akka.net). The aggregate manager is what enables Akkatecture to take advantage of the <a href="https://gigi.nullneuron.net/gigilabs/child-per-entity-pattern-in-akka-net/">one child per entity pattern</a>. There is another example of this pattern being applied in Akkatecture's <code class="language-text">Akkatecture.Cluster</code> package which does the same thing for aggregates and <a href="/docs/sagas">sagas</a> in a clustered environment.</p>
<blockquote>
<p>Aggregate managers should not do anything that violates the error kernel pattern. What this means is that the aggregate manager should not do <em>dangerous</em> <code class="language-text">I/O</code> within the aggregate manager, since it will be responsible for many aggregates underneath it.</p>
</blockquote>
<p><a href="/docs/events">Next, Events →</a></p></div></article></div><div class="nav sc-jTzLTM klVCml" data-reactid="32"><div class="sc-dnqmqq dCbOEe" data-reactid="33"><ul data-reactid="34"><li class="chapter" data-reactid="35"><h5 class="tocHeading" data-reactid="36">Introduction</h5><ul class="chapterItems" data-reactid="37"><div class="sc-iwsKbI hEeKFD" data-reactid="38"><a href="/docs/getting-started" data-reactid="39"><li data-reactid="40"><span data-reactid="41"><p data-reactid="42"><!-- react-text: 43 -->1<!-- /react-text --><!-- react-text: 44 -->.<!-- /react-text --><!-- react-text: 45 -->1<!-- /react-text --><!-- react-text: 46 -->  <!-- /react-text --></p><h6 data-reactid="47">Getting Started</h6></span></li></a></div></ul></li><li class="chapter" data-reactid="48"><h5 class="tocHeading" data-reactid="49">Basic Concepts</h5><ul class="chapterItems" data-reactid="50"><div class="sc-iwsKbI hEeKFD" data-reactid="51"><a href="/docs/primitives" data-reactid="52"><li data-reactid="53"><span data-reactid="54"><p data-reactid="55"><!-- react-text: 56 -->2<!-- /react-text --><!-- react-text: 57 -->.<!-- /react-text --><!-- react-text: 58 -->1<!-- /react-text --><!-- react-text: 59 -->  <!-- /react-text --></p><h6 data-reactid="60">Primitives</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="61"><a href="/docs/aggregates" data-reactid="62"><li data-reactid="63"><span data-reactid="64"><p data-reactid="65"><!-- react-text: 66 -->2<!-- /react-text --><!-- react-text: 67 -->.<!-- /react-text --><!-- react-text: 68 -->2<!-- /react-text --><!-- react-text: 69 -->  <!-- /react-text --></p><h6 data-reactid="70">Aggregates</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="71"><a href="/docs/events" data-reactid="72"><li data-reactid="73"><span data-reactid="74"><p data-reactid="75"><!-- react-text: 76 -->2<!-- /react-text --><!-- react-text: 77 -->.<!-- /react-text --><!-- react-text: 78 -->3<!-- /react-text --><!-- react-text: 79 -->  <!-- /react-text --></p><h6 data-reactid="80">Events</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="81"><a href="/docs/commands" data-reactid="82"><li data-reactid="83"><span data-reactid="84"><p data-reactid="85"><!-- react-text: 86 -->2<!-- /react-text --><!-- react-text: 87 -->.<!-- /react-text --><!-- react-text: 88 -->4<!-- /react-text --><!-- react-text: 89 -->  <!-- /react-text --></p><h6 data-reactid="90">Commands</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="91"><a href="/docs/specifications" data-reactid="92"><li data-reactid="93"><span data-reactid="94"><p data-reactid="95"><!-- react-text: 96 -->2<!-- /react-text --><!-- react-text: 97 -->.<!-- /react-text --><!-- react-text: 98 -->5<!-- /react-text --><!-- react-text: 99 -->  <!-- /react-text --></p><h6 data-reactid="100">Specifications</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="101"><a href="/docs/subscribers" data-reactid="102"><li data-reactid="103"><span data-reactid="104"><p data-reactid="105"><!-- react-text: 106 -->2<!-- /react-text --><!-- react-text: 107 -->.<!-- /react-text --><!-- react-text: 108 -->6<!-- /react-text --><!-- react-text: 109 -->  <!-- /react-text --></p><h6 data-reactid="110">Subscribers</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="111"><a href="/docs/akka" data-reactid="112"><li data-reactid="113"><span data-reactid="114"><p data-reactid="115"><!-- react-text: 116 -->2<!-- /react-text --><!-- react-text: 117 -->.<!-- /react-text --><!-- react-text: 118 -->7<!-- /react-text --><!-- react-text: 119 -->  <!-- /react-text --></p><h6 data-reactid="120">Akka</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="121"><a href="/docs/configuration" data-reactid="122"><li data-reactid="123"><span data-reactid="124"><p data-reactid="125"><!-- react-text: 126 -->2<!-- /react-text --><!-- react-text: 127 -->.<!-- /react-text --><!-- react-text: 128 -->8<!-- /react-text --><!-- react-text: 129 -->  <!-- /react-text --></p><h6 data-reactid="130">Configuration</h6></span></li></a></div></ul></li><li class="chapter" data-reactid="131"><h5 class="tocHeading" data-reactid="132">Walkthrough</h5><ul class="chapterItems" data-reactid="133"><div class="sc-iwsKbI hEeKFD" data-reactid="134"><a href="/docs/walkthrough-introduction" data-reactid="135"><li data-reactid="136"><span data-reactid="137"><p data-reactid="138"><!-- react-text: 139 -->3<!-- /react-text --><!-- react-text: 140 -->.<!-- /react-text --><!-- react-text: 141 -->1<!-- /react-text --><!-- react-text: 142 -->  <!-- /react-text --></p><h6 data-reactid="143">Walkthrough Introduction</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="144"><a href="/docs/your-first-aggregate" data-reactid="145"><li data-reactid="146"><span data-reactid="147"><p data-reactid="148"><!-- react-text: 149 -->3<!-- /react-text --><!-- react-text: 150 -->.<!-- /react-text --><!-- react-text: 151 -->2<!-- /react-text --><!-- react-text: 152 -->  <!-- /react-text --></p><h6 data-reactid="153">Your First Aggregate</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="154"><a href="/docs/your-first-commands" data-reactid="155"><li data-reactid="156"><span data-reactid="157"><p data-reactid="158"><!-- react-text: 159 -->3<!-- /react-text --><!-- react-text: 160 -->.<!-- /react-text --><!-- react-text: 161 -->3<!-- /react-text --><!-- react-text: 162 -->  <!-- /react-text --></p><h6 data-reactid="163">Your First Commands</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="164"><a href="/docs/your-first-events" data-reactid="165"><li data-reactid="166"><span data-reactid="167"><p data-reactid="168"><!-- react-text: 169 -->3<!-- /react-text --><!-- react-text: 170 -->.<!-- /react-text --><!-- react-text: 171 -->4<!-- /react-text --><!-- react-text: 172 -->  <!-- /react-text --></p><h6 data-reactid="173">Your First Events</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="174"><a href="/docs/your-first-specifications" data-reactid="175"><li data-reactid="176"><span data-reactid="177"><p data-reactid="178"><!-- react-text: 179 -->3<!-- /react-text --><!-- react-text: 180 -->.<!-- /react-text --><!-- react-text: 181 -->5<!-- /react-text --><!-- react-text: 182 -->  <!-- /react-text --></p><h6 data-reactid="183">Your First Specifications</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="184"><a href="/docs/your-first-aggregate-saga" data-reactid="185"><li data-reactid="186"><span data-reactid="187"><p data-reactid="188"><!-- react-text: 189 -->3<!-- /react-text --><!-- react-text: 190 -->.<!-- /react-text --><!-- react-text: 191 -->6<!-- /react-text --><!-- react-text: 192 -->  <!-- /react-text --></p><h6 data-reactid="193">Your First Aggregate Saga</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="194"><a href="/docs/your-first-subscribers" data-reactid="195"><li data-reactid="196"><span data-reactid="197"><p data-reactid="198"><!-- react-text: 199 -->3<!-- /react-text --><!-- react-text: 200 -->.<!-- /react-text --><!-- react-text: 201 -->7<!-- /react-text --><!-- react-text: 202 -->  <!-- /react-text --></p><h6 data-reactid="203">Your First Subscribers</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="204"><a href="/docs/your-first-read-models" data-reactid="205"><li data-reactid="206"><span data-reactid="207"><p data-reactid="208"><!-- react-text: 209 -->3<!-- /react-text --><!-- react-text: 210 -->.<!-- /react-text --><!-- react-text: 211 -->8<!-- /react-text --><!-- react-text: 212 -->  <!-- /react-text --></p><h6 data-reactid="213">Your First Read Models</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="214"><a href="/docs/walkthrough-ending" data-reactid="215"><li data-reactid="216"><span data-reactid="217"><p data-reactid="218"><!-- react-text: 219 -->3<!-- /react-text --><!-- react-text: 220 -->.<!-- /react-text --><!-- react-text: 221 -->9<!-- /react-text --><!-- react-text: 222 -->  <!-- /react-text --></p><h6 data-reactid="223">Walkthrough Ending</h6></span></li></a></div></ul></li><li class="chapter" data-reactid="224"><h5 class="tocHeading" data-reactid="225">Advanced Concepts</h5><ul class="chapterItems" data-reactid="226"><div class="sc-iwsKbI hEeKFD" data-reactid="227"><a href="/docs/sagas" data-reactid="228"><li data-reactid="229"><span data-reactid="230"><p data-reactid="231"><!-- react-text: 232 -->4<!-- /react-text --><!-- react-text: 233 -->.<!-- /react-text --><!-- react-text: 234 -->1<!-- /react-text --><!-- react-text: 235 -->  <!-- /react-text --></p><h6 data-reactid="236">Sagas</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="237"><a href="/docs/snapshotting" data-reactid="238"><li data-reactid="239"><span data-reactid="240"><p data-reactid="241"><!-- react-text: 242 -->4<!-- /react-text --><!-- react-text: 243 -->.<!-- /react-text --><!-- react-text: 244 -->2<!-- /react-text --><!-- react-text: 245 -->  <!-- /react-text --></p><h6 data-reactid="246">Snapshotting</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="247"><a href="/docs/clustering" data-reactid="248"><li data-reactid="249"><span data-reactid="250"><p data-reactid="251"><!-- react-text: 252 -->4<!-- /react-text --><!-- react-text: 253 -->.<!-- /react-text --><!-- react-text: 254 -->3<!-- /react-text --><!-- react-text: 255 -->  <!-- /react-text --></p><h6 data-reactid="256">Clustering</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="257"><a href="/docs/production-readiness" data-reactid="258"><li data-reactid="259"><span data-reactid="260"><p data-reactid="261"><!-- react-text: 262 -->4<!-- /react-text --><!-- react-text: 263 -->.<!-- /react-text --><!-- react-text: 264 -->4<!-- /react-text --><!-- react-text: 265 -->  <!-- /react-text --></p><h6 data-reactid="266">Production Readiness</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="267"><a href="/docs/event-upgrading" data-reactid="268"><li data-reactid="269"><span data-reactid="270"><p data-reactid="271"><!-- react-text: 272 -->4<!-- /react-text --><!-- react-text: 273 -->.<!-- /react-text --><!-- react-text: 274 -->5<!-- /react-text --><!-- react-text: 275 -->  <!-- /react-text --></p><h6 data-reactid="276">Event Upgrading</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="277"><a href="/docs/testing-actors" data-reactid="278"><li data-reactid="279"><span data-reactid="280"><p data-reactid="281"><!-- react-text: 282 -->4<!-- /react-text --><!-- react-text: 283 -->.<!-- /react-text --><!-- react-text: 284 -->6<!-- /react-text --><!-- react-text: 285 -->  <!-- /react-text --></p><h6 data-reactid="286">Testing Actors</h6></span></li></a></div></ul></li><li class="chapter" data-reactid="287"><h5 class="tocHeading" data-reactid="288">Further Research</h5><ul class="chapterItems" data-reactid="289"><div class="sc-iwsKbI hEeKFD" data-reactid="290"><a href="/docs/tips-and-tricks" data-reactid="291"><li data-reactid="292"><span data-reactid="293"><p data-reactid="294"><!-- react-text: 295 -->5<!-- /react-text --><!-- react-text: 296 -->.<!-- /react-text --><!-- react-text: 297 -->1<!-- /react-text --><!-- react-text: 298 -->  <!-- /react-text --></p><h6 data-reactid="299">Tips and Tricks</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="300"><a href="/docs/articles" data-reactid="301"><li data-reactid="302"><span data-reactid="303"><p data-reactid="304"><!-- react-text: 305 -->5<!-- /react-text --><!-- react-text: 306 -->.<!-- /react-text --><!-- react-text: 307 -->2<!-- /react-text --><!-- react-text: 308 -->  <!-- /react-text --></p><h6 data-reactid="309">Articles</h6></span></li></a></div><div class="sc-iwsKbI hEeKFD" data-reactid="310"><a href="/docs/videos" data-reactid="311"><li data-reactid="312"><span data-reactid="313"><p data-reactid="314"><!-- react-text: 315 -->5<!-- /react-text --><!-- react-text: 316 -->.<!-- /react-text --><!-- react-text: 317 -->3<!-- /react-text --><!-- react-text: 318 -->  <!-- /react-text --></p><h6 data-reactid="319">Videos</h6></span></li></a></div></ul></li></ul></div></div></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-1d17f54e3da8a1afc42e.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","112254247690605":"component---src-templates-lesson-jsx-1a8b44204d8f2b24e204.js","183400410456155":"component---src-templates-tag-jsx-6d724a4bbcff12c3ea7c.js","129745722219136":"component---src-templates-category-jsx-3a50fee79b9519c47f96.js","217035495299209":"component---src-templates-blog-jsx-b8075d6f0dbf8acd7a2e.js","62594314737120":"component---src-pages-community-jsx-b041d4dacb76dbfd5b40.js","213534597649335":"component---src-pages-index-jsx-9b6e660723e3ceafbfcd.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","236781601605503":"path---docs-sagas-a5506fd2d29021732051.js","252523778511558":"path---docs-snapshotting-9b416416dc467ce8950f.js","11002931482759":"path---docs-testing-actors-d4dbdb09b659786ae089.js","7809046766390":"path---docs-commands-f428d8626eb9432731f1.js","108535206120005":"path---docs-aggregates-2fa3a0073f8bbc54ad3e.js","122598536800070":"path---docs-akka-d19c72f2864b88f1c9fd.js","81758111004672":"path---docs-videos-2957183813b9bc27ab04.js","71292731132602":"path---docs-configuration-3179500175f1f348349e.js","15966951663182":"path---docs-specifications-7eea8bd3d1cd577a5110.js","87691678318370":"path---docs-subscribers-d067e6e19afb21ab2332.js","82999037019505":"path---docs-getting-started-f0ca7f58d52f10190f86.js","50867482497554":"path---docs-walkthrough-ending-96092b3479eedb559ffb.js","266882522037697":"path---docs-your-first-aggregate-c81f840674653f8b1d50.js","275248026053780":"path---docs-walkthrough-introduction-78db5f6f37b3ec753f38.js","142113052403013":"path---docs-your-first-specifications-5c5107898825a1558e30.js","126988765446965":"path---docs-your-first-subscribers-f676967a8558ea212c13.js","40985414794637":"path---docs-tips-and-tricks-14aafd0a9a2da2b788b9.js","135770652933338":"path---docs-events-4bf58d2e526282d5d3dc.js","5874578191020":"path---docs-primitives-a6aa8630fb2f82098d59.js","172718406673271":"path---docs-your-first-aggregate-saga-52830a3f70b6adc3c1d1.js","32197525406939":"path---docs-your-first-commands-0bda152ed98742879064.js","109055924127837":"path---docs-your-first-read-models-e389713c4bdecc312d32.js","54802054384810":"path---docs-your-first-events-77cc62473ebcb936f55d.js","57217333813249":"path---docs-clustering-8cb444fda3bf3b75f05a.js","47240067528309":"path---docs-articles-b4925f54476ee5c278b3.js","192457265457637":"path---docs-production-readiness-7c3163b4012394e2beb8.js","79135866311530":"path---docs-event-upgrading-06e3b824a91f620f952c.js","143158810746215":"path---tags-advanced-concepts-77981d3f4ece66758c07.js","176614715162269":"path---tags-akkatecture-3b97729c73f09b4d6f84.js","207778322866200":"path---tags-csharp-4b09ade1a1e4d70d7755.js","90888147691054":"path---tags-dotnet-491c837e9954f19b1e25.js","219432188609775":"path---tags-basic-concepts-5cde2ae05cce515a30bf.js","74841100551837":"path---tags-further-self-study-29c79366db14af6a0374.js","206968244309382":"path---tags-getting-started-a763f51b0817bfee7e26.js","217658224693076":"path---tags-walkthrough-765c8e2fc2e810e5edbb.js","124733502727458":"path---tags-readmodels-3e72137f8074731e5e7e.js","11964590627054":"path---tags-aggregate-c4b45c304c10e1c8be8b.js","16454133690812":"path---tags-introduction-66de254c2a08b7361d9b.js","2194076970042":"path---tags-specifications-43a0c3a4679b21e9e9d2.js","30373953628741":"path---tags-subscriber-b28e5eb64acb45fd1f1d.js","166782442376735":"path---tags-saga-ff09dcde6c8e44258850.js","111630146904512":"path---tags-commands-6d74b8896c61c66bbb26.js","270961735013575":"path---tags-events-c68ee6ec32bd300e6d3f.js","241065724969145":"path---categories-akkatecture-69ff84fd1027801fbcb8.js","49683490770531":"path---blog-9fe9aafaf0271dfc8011.js","152754856590885":"path---community-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-1ea9af8098b4560b6be3.js","79611799117203":"component---src-layouts-index-jsx-b6d46c28bc8090e6a697.js"}/*]]>*/</script><script>
            
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-69152159-2', 'auto');
      }
      </script><script>
          window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));
      </script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-f55693143a323e5c12d5.js","/app-1d17f54e3da8a1afc42e.js","/path---docs-aggregates-2fa3a0073f8bbc54ad3e.js","/component---src-templates-lesson-jsx-1a8b44204d8f2b24e204.js","/component---src-layouts-index-jsx-b6d46c28bc8090e6a697.js"])/*]]>*/</script></body></html>